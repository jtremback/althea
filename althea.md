Althea is a system that allows routers in a network to pay each other for bandwidth. This allows for a type of network that we are calling an "incentivized mesh network". In this model, users pay for network access, and infrastructure operators are compensated without a middleman or ISP.

We've designed Althea with a point-to-point wireless network in mind, although it could be conceiveably used with many different network architectures. Let's look at two existing ways to run a point-to-point wireless network.

Wireless ISP:
A wireless ISP is a business that leases a high capacity uplink to the internet. It then sets up radio networking equipment to bring internet connectivity to a wider local area, and starts soliciting subscribers. In this model, the business entity of the ISP acts as a middleman, owning and maintaining equipment and making agreements with the owners of equipment installation sites to host the equipment. These activities, as well as the uplink lease, are financed by the subscription fees paid by subscribers. The networking equipment is usually owned by the ISP. Another activity that wireless ISPs engage in is network configuration and routing. Since they own the equipment, they are able to use some combination of manual routing table setup, centralized routing (SDN), and ad-hoc qrouting protocols to move packets through the network.

Community mesh network:
A community mesh network is similar to a wireless ISP in that it tends to use point-to-point radio networking equipment to provide connectivity. Instead of being a business, community meshes are set up and administered by a community (although there is usually a committed core of volunteers pushing the effort forward). One key difference between a wireless ISP and a community mesh network is that in a community mesh, the networking equipment is typically owned by the individuals hosting it instead of a central entity. Connectivity to the internet is typically provided by the home internet connections of individuals in the mesh. If there is a high capacity uplink, it is typically financed by donations. Packets are routed by ad-hoc routing protocols (Babel, OLSR, BATMAN). Ad-hoc routing protocols are self-configuring, meaning that nodes in the network communicate with one another to route packets without centralized administration. This is a key factor, as it allows the network to function without too much coordination.

Althea:
Althea is a set of protocols for a decentralized point-to-point radio network providing connectivity to an area, where participants in the network are able to pay for connectivity, and receive payment for their contributions to the network, without a centralized ISP collecting subscriptions and owning equipment. It combines the commercial viablity of a wireless ISP with the decentralized nature of a community mesh network. There are two main components- payments and routing.

Nodes route packets using an ad-hoc "mesh" routing protocol. This protocol must take price as well as link quality into account. We'll use Babel to start, with an extension to add price data to links.

The Babel routing protocol builds up a routing table in each node which includes a link cost metric `ç`, encoding information about the quality of all the links between the node and a given destination. Based on this information, the node is able to choose which of its neighbors to forward a packet to, given its destination.

Our extension to Babel adds a price column to the routing table which encodes the monetary price to get a packet to a given destination. Each node determines a price `å` for forwarding a certain amount of data on to one of its neighbors. The price column for a given destination is equal to the sum of the `å` of all nodes between the current node and its destination. When choosing which node to forward packets to for a certain destination, Althea nodes take both `ç` and `å` into account. In this way, packets travel along the highest quality and cheapest paths.

Each node on the network establishes payment channels with each of its neighbors. A payment channel is a method for two parties to exchange payments trustlessly by signing transactions that alter the balance of an escrow account held by a bank or blockchain (we may use the Ethereum blockchain for Althea). The important thing about a payment channel is that after the channel has been opened, and funds have been placed in escrow, individual payments can be made directly between the two parties without submitting anything to the blockchain.

When Alice wishes to send a packet to a destination (Bob) on the network, she consults her routing table to find the best neighbor to forward it to. This routing table was built up by Babel, taking price and link quality into account, so the neighbor will be the one judged to have the best and cheapest route to the destination. Alice then appends a state update for her payment channel with Bob to the packet which pays him the rate that he is advertising for that destination. When Bob receives the packet and the payment, he forwards the packet on to his best neighbor, paying them the fee they charge to get a packet to that destination. Since Bob has set his fee to slightly higher that what his neighbor is charging to get to that destination, he will make a profit. This process continues until the packet reaches its destination.

In this way, Alice can send packets to any packet in the network, while transmitters along the way are compensated. This is great if, say, neighbors want to exchange photos in a local area. But how can this system be used to provide access to the broader internet? Let's start with a simpler example. What if there's a server on the network which has photos for download?  


